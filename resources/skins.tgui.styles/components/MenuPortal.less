@import '../variables.less';
@import '../mixins.less';

.mw-portlet ul {
  list-style: none;
  margin: 0;
}

.tgui-sidebar-content {
  .tgui-menu {
    position: relative;
    overflow: hidden;
    margin: 0.5em 0 0.5em 0.5em;
    border: var(--border-classic);
    border-radius: var(--border-radius-medium);
    z-index: var(--index-fore);

    &:first-child {
      margin-top: 0.75em;

      .tgui-menu__heading {
        border-bottom: 2px solid var(--color-primary);
      }

      .tgui-menu__content ul {
        padding: 0.5em 0;
      }
    }

    &__heading {
      display: flex;
      align-items: center;
      height: 2.25em;
      font-size: 0.75em;
      font-weight: bold;
      padding: 0 0.75em;
      background-color: var(--color-second);
      color: var(--color-text-darker);
    }

    &__content {
      overflow: hidden;
      background-color: var(--color-second);

      ul {
        list-style: none;
        padding: ~'calc(0.5em + 2px)' 0 0.5em;
      }

      li {
        .tgui-button();
        font-size: 0.75em;
        line-height: @line-height-nav;
        word-wrap: break-word;
        margin: 0 0.5em 0.5em 0.5em;

        &:last-child {
          margin-bottom: 0;
        }

        a {
          display: inline-flex;
          width: 100%;
          padding: 0.5em 0 0.25em 0.5em;
          text-shadow: none;
        }
      }
    }

    &:not(.first) {
      .tgui-menu__heading {
        cursor: pointer;
        user-select: none;
        padding: 0 0.75em 0 0.5em;
        color: var(--color-text-darker);

        &:before {
          content: '\f078';
          font: var(--fa-font-solid);
          margin-right: 0.33em;
          transform: rotate(0deg) scale(0.75);
          transition: transform var(--transition-time);

          @media (max-width: @max-width-mobile) {
            text-indent: -0.25em;
          }
        }
      }

      .tgui-menu__content {
        max-height: 0;
        transition: max-height var(--transition-time);
        .border-animation(@top: true);
      }

      &.collapsed {
        .tgui-menu__heading:before {
          transform: rotate(-90deg) scale(0.75);
        }

        .tgui-menu__content:before {
          transform: scale(0);
        }
      }
    }
  }

  @media (max-width: @max-width-mobile) {
    .tgui-menu {
      &__heading {
        font-size: 1.1em;
      }

      &__content li {
        font-size: 1.1em;
      }
    }
  }
}
