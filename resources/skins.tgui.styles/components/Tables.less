@import '../mixins.less';

/* Tables */
table {
  position: relative;
  font-size: 100%;
  background-color: var(--color-second);
  border-color: var(--color-border);
}

// JS-enhanced responsive table
.tgui-table-wrapper {
  overflow-x: auto;

  // Make wrapper with blur if overflow active, otherwise it won't work thanks to mask
  &.tgui-overflow--left,
  &.tgui-overflow--right {
    backdrop-filter: var(--blur-default);
  }

  // And make tables itself with blur if no overflow
  &:not(.tgui-overflow--left):not(.tgui-overflow--right) {
    table {
      backdrop-filter: var(--blur-default);
    }
  }
}

// TODO: Move this out of tables styles when this is used by more stuff
.tgui-overflow {
  &--left {
    -webkit-mask-image: linear-gradient(90deg, transparent, #000 15%);
    mask-image: linear-gradient(90deg, transparent, #000 15%);
  }

  &--right {
    -webkit-mask-image: linear-gradient(90deg, #000 85%, transparent);
    mask-image: linear-gradient(90deg, #000 85%, transparent);
  }

  &--left&--right {
    -webkit-mask-image: linear-gradient(90deg, transparent, #000 15%, #000 85%, transparent);
    mask-image: linear-gradient(90deg, transparent, #000 15%, #000 85%, transparent);
  }
}

/* Collapsible table toggle */
.skin-tgui {
  table {
    &:not(.wikitable) .mw-collapsible-toggle {
      background-color: transparent;

      &:before {
        color: var(--color-text);
      }
    }

    .mw-collapsible-toggle {
      .tgui-collapsible-toggle();
    }
  }
}
