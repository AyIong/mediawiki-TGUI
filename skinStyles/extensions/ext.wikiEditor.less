@import '../../resources/skins.tgui.styles/variables.less';
@import '../../resources/skins.tgui.styles/mixins.less';

.wikiEditor-ui {
  .wikiEditor-ui-view {
    border: var(--border-classic);
  }

  .wikiEditor-ui-top {
    border-bottom: var(--border-classic);

    .wikiEditor-ui-toolbar {
      box-shadow: none;
      background-color: var(--color-second-fill);

      .group,
      .section-secondary .group {
        border-color: var(--color-border);
      }

      .tabs span.tab {
        line-height: normal;
        margin: 0.33em 0.25em 0 0.25em;

        a {
          .tgui-button();
          height: auto;
          padding: 0.25rem 0.5rem 0.25rem 0.33rem;
          line-height: var(--font-size-medium);

          &:before {
            display: inline-block;
            position: relative;
            background: none;
            content: '\f078';
            font: var(--fa-font-solid);
            width: 1em;
            height: 1em;
            margin-right: 0.25em;
            transition: transform var(--transition-time);
          }

          &.current {
            .tgui-button('green');
          }
        }
      }

      .sections {
        overflow: hidden;
        margin-bottom: -2px;

        &:not(:has(.section-visible)) {
          margin-bottom: -3px; // 3 borders
        }

        .section {
          overflow: hidden;
          display: block !important;
          border-top: 1px solid transparent;
          transition:
            height var(--transition-time),
            border var(--transition-time);

          &-visible {
            height: 13.4rem;
            border-top: var(--border-classic);
          }

          &-hidden {
            height: 0;
          }

          &-advanced.section-visible {
            height: 2rem;
          }
        }
      }

      .group {
        .label {
          color: var(--color-text-gray);
        }

        .tool-select {
          .menu .options {
            background-color: var(--color-second-fill);
            border: var(--border-classic);
            box-shadow: var(--box-shadow-small);

            .option {
              color: var(--color-text-darker);

              &:hover {
                background-color: var(--color-bg-hover);
              }
            }
          }

          .label {
            padding: 0 2em 0 1.8em;
            color: var(--color-text);

            &:after {
              background: none;
              align-content: center;
              content: '\f078';
              font: var(--fa-font-solid);
              right: 6px;
              width: 1rem;
              height: 2rem;
            }
          }
        }
      }

      .booklet {
        > .index {
          height: 215px;

          > .current {
            background-color: var(--color-bg-focus) !important;
            color: var(--color-text);
          }

          > div {
            transition: background-color var(--transition-time);

            &:hover {
              background-color: var(--color-bg-hover);
            }
          }
        }
      }

      .pages {
        height: 215px;
        border-left: var(--border-classic);
      }

      .page-characters div span {
        background-color: transparent;
        color: var(--color-text-darker);
        border: var(--border-classic);
        transition:
          background-color var(--transition-time),
          border var(--transition-time);

        &:hover {
          background-color: var(--color-bg-hover);
          border: var(--border-classic-input-focus);
        }
      }

      .page-table {
        th {
          color: var(--color-text-darker);
        }

        td {
          color: var(--color-text);
          border-top: var(--border-classic);
        }
      }
    }
  }
}

.skin-tgui {
  .ext-WikiEditor- {
    &ResizingDragBar {
      background-color: var(--color-bg-section-light-opaque);

      &-ns {
        border-top: var(--border-classic);
      }

      span {
        margin: 0.5em 0.1em;
        background-color: var(--color-text-translucent);
        transition: background-color var(--transition-time);
      }

      &:hover span {
        background-color: var(--color-text);
      }
    }

    &ManualWidget {
      background-color: var(--color-second-fill);
      color: var(--color-text-darker);
      border-color: var(--color-border);
      border-width: 0 0 1px 0;
      transition: color var(--transition-time);

      &:hover {
        color: var(--color-text);
      }

      .ext-WikiEditor-realtimepreview-manual-reload {
        color: var(--color-text);
      }
    }

    &twopanes-TwoPaneLayout .ext-WikiEditor-twopanes-pane {
      &1 {
        border-right: var(--border-classic);
      }

      &2 {
        border-left: var(--border-classic);
      }
    }

    &realtimepreview-loadingbar div {
      background-color: var(--color-primary);
      animation-timing-function: ease-in-out;
    }
  }

  .ext-WikiEditor-realtimepreview-button.oo-ui-toggleWidget-on .oo-ui-labelElement-label {
    color: var(--color-text);
  }
}
